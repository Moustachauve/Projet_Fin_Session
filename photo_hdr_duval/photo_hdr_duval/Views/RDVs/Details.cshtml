@model photo_hdr_duval.Models.RDV

@{
	ViewBag.Title = "Details";
}
<h2>Rendez-vous avec @Html.DisplayFor(model => model.NomProprietaire), @Html.DisplayFor(model => model.PrenomProprietaire) <div class="label label-danger pull-right">Demandée</div></h2>
@if (Model.DateRDV != null)
{
	<h4>@Html.DisplayFor(model => model.DateRDV) à @Html.DisplayFor(model => model.HeureRDV) </h4>
}
<hr />

<div>
	<h3>Informations de contact:</h3>
	<dl>

		<dt>
			@Html.DisplayNameFor(model => model.EmailProprietaire)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.EmailProprietaire)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.TelPrincipalProprietaire)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.TelPrincipalProprietaire)
		</dd>
		@if (Model.TelSecondaire != null)
		{
			<dt>
				@Html.DisplayNameFor(model => model.TelSecondaire)
			</dt>

			<dd>
				@Html.DisplayFor(model => model.TelSecondaire)
			</dd>
		}
		<dt>
			@Html.DisplayNameFor(model => model.AdressePropriete)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.AdressePropriete)
		</dd>

		@if (Model.Commentaire != null && !String.IsNullOrWhiteSpace(Model.Commentaire))
		{
			<dt>
				@Html.DisplayNameFor(model => model.Commentaire)
			</dt>

			<dd>
				@Html.DisplayFor(model => model.Commentaire)
			</dd>
		}

		<dt>
			@Html.DisplayNameFor(model => model.Forfait.Prix)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.Forfait.Prix)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.Deplacement)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.Deplacement)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.VisiteVirtuelle)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.VisiteVirtuelle)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.CoutTotal)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.CoutTotal)
		</dd>
	</dl>
</div>

<div class="row">
	<h2>Photos: @Html.ActionLink("Ajouter des photos", "UploadPhoto", "RDVs", new { id = Model.RDVID }, new { @class = "btn btn-success pull-right" })</h2>
	@foreach (photo_hdr_duval.Models.PhotoPropriete photo in Model.PhotoProprietes)
	{
		string chemin = @Url.Content("~/Images/" + photo.Url);

		<div class="col-xs-6 col-sm-4 col-md-3">
			<a class="thumbnail" data-footer="@photo.DescriptionPhoto" data-toggle="lightbox" href="@chemin" data-gallery="photos">
				<!--@Html.ActionLink("X", "DeletePhoto", "RDVs", new {id = photo.PhotoProprieteID }, new { @class = "btn btn-danger pull-right" })-->
				<img src="@chemin" alt="@photo.DescriptionPhoto" class="img-responsive" />
			</a>
		</div>
	}
</div>

<p>
	@Html.ActionLink("Modifier", "Edit", new { id = Model.RDVID }) |
	@Html.ActionLink("Retourner à la liste", "Index")
</p>


@section Scripts {

	@Scripts.Render("~/Scripts/ekko-lightbox.js")
	@Scripts.Render("~/Scripts/jquery.matchHeight-min.js")
	<script type="text/javascript">
		$(".thumbnail").matchHeight();

		$(document).delegate('*[data-toggle="lightbox"]', 'click', function (event) {
			event.preventDefault();
			$(this).ekkoLightbox();
		});
	</script>
}
